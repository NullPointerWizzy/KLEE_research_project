CFLAGS = -std=c11 -Wall -Wextra -g
CPPFLAGS = -I../include -DDEBUG
LDFLAGS = -lm

all: colors_tests grid_tests


colors_tests.o: colors_tests.c  ../include/colors.h
	$(CC) $(CFLAGS) $(CPPFLAGS) -c $<

colors_tests: colors_tests.o ../src/colors.o
	$(CC) $(CFLAGS) -o $@ $^ $(LDFLAGS)


grid_tests.o: grid_tests.c  ../include/grid.h ../include/colors.h
	$(CC) $(CFLAGS) $(CPPFLAGS) -c $<

grid_tests: grid_tests.o ../src/grid.o ../src/colors.o
	$(CC) $(CFLAGS) -o $@ $^ $(LDFLAGS)

clean:
	@rm -f *.o colors_tests grid_tests

help:
	@echo "Usage:"
	@echo " make [all]\t\tBuild the software"
	@echo " make clean\t\tRemove all files generated by make"
	@echo " make help\t\tDisplay this help"
	
.PHONY: all clean help